cluster.name: <%= node['logstash']['elasticsearch']['cluster']['name'] %>

cloud.aws.access_key: <%= node['logstash']['elasticsearch']['cloud']['aws']['access_key'] %>
cloud.aws.secret_key: <%= node['logstash']['elasticsearch']['cloud']['aws']['secret_key'] %>
cloud.aws.region: <%= node['logstash']['elasticsearch']['cloud']['aws']['region'] %>
cloud.aws.node.auto_attributes: true

discovery.type: ec2
discovery.ec2.groups: <%= node['logstash']['elasticsearch']['discovery']['ec2']['groups'] %>
<%- node['logstash']['elasticsearch']['discovery']['ec2']['tag'].sort.each do |key, value| -%>
discovery.ec2.tag.<%= key %>: <%= value %>
<%- end unless node['logstash']['elasticsearch']['discovery']['ec2']['tag'].keys.empty? rescue false -%>
